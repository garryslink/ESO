<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Application avec formulaires</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body { margin:0; font-family:Arial, sans-serif; background:#f0f0f0; }
    .topbar {
      background:#1976d2; color:white; padding:20px; display:flex; align-items:center;
      font-size:22px; font-weight:700; position:relative;
    }
    .back-btn {
      position:absolute; left:16px; font-size:16px; background:white; color:#1976d2;
      padding:6px 10px; border-radius:6px; cursor:pointer; border:none; font-weight:700;
    }
    .container { display:flex; height:calc(100vh - 70px); }
    .sidebar {
      width:80px; background:#1976d2; display:flex; flex-direction:column; align-items:center;
      padding-top:20px; gap:14px; overflow:auto;
    }
    .sidebar i {
      font-size:26px; color:white; background:#1565c0; padding:16px; border-radius:10px;
      cursor:pointer; width:56px; height:56px; display:flex; align-items:center; justify-content:center;
      transition:background .15s;
    }
    .sidebar i:hover { background:#0d47a1; }
    .content { flex:1; padding:20px; background:#f9f9f9; overflow:auto; }
    .form-box { display:none; background:white; padding:18px; border-radius:10px; border:1px solid #ddd; }
    .form-box.active { display:block; }
    label { display:block; margin-top:10px; font-weight:700; }
    input, textarea, select { width:100%; padding:8px; margin-top:6px; border:1px solid #ccc; border-radius:6px; }
    .btn-container { display:flex; justify-content:center; gap:30px; margin-top:18px; }
    .btn { padding:14px 28px; font-size:18px; border-radius:10px; border:none; cursor:pointer; font-weight:700; color:white; }
    .btn-blue { background:#1976d2; }
    .btn-orange { background:#ff7043; }
    .subpage { display:none; }
    .subpage.active { display:block; }
  </style>
</head>
<body>

  <div class="topbar">
    <button class="back-btn" onclick="goBack()">← Retour</button>
  </div>

  <div class="container">
    <div class="sidebar">
      <i class="fas fa-home"      title="Accueil / Fiche 1"       onclick="showForm('form1')"></i>
      <i class="fas fa-user-md"   title="Fiche 2 - Médecin"       onclick="showForm('form2')"></i>
      <i class="fas fa-ambulance" title="Fiche 3 - Ambulance"     onclick="showForm('form3')"></i>
      <i class="fas fa-hospital"  title="Fiche 4 - Hôpital"       onclick="showForm('form4')"></i>
      <i class="fas fa-phone"     title="Fiche 5 - Téléphone"     onclick="showForm('form5')"></i>
      <i class="fas fa-heartbeat" title="Fiche 6 - Cœur"          onclick="showForm('form6')"></i>
      <i class="fas fa-stethoscope" title="Fiche 7 - Stétho"      onclick="showForm('form7')"></i>
      <i class="fas fa-notes-medical" title="Fiche 8 - Notes"     onclick="showForm('form8')"></i>
      <i class="fas fa-syringe"   title="Fiche 9 - Injection"     onclick="showForm('form9')"></i>
      <i class="fas fa-band-aid"  title="Fiche 10 - Pansement"    onclick="showForm('form10')"></i>
      <i class="fas fa-briefcase-medical" title="Fiche 11 - Trousse" onclick="showForm('form11')"></i>
      <i class="fas fa-procedures" title="Fiche 12 - Hospitalisé" onclick="showForm('form12')"></i>
    </div>

    <div class="content">
      <!-- Exemple fiche 1 -->
      <div id="form1" class="form-box active">
        <h3>Information complémentaire</h3>

        <div class="subpage active" id="form1_page1">
          <label>Adresse de l'intervention :</label>
          <input id="form1_adresse" type="text" />
          <label>Num de l'intervention :</label>
          <input id="form1_num" type="text" />
          <label>Motif de l'intervention :</label>
          <input id="form1_motif" type="text" />
          <label for="etat">Lieux de l'intervention :</label>
          <select id="etat" name="etat">
            <option value="">-- Sélectionner --</option>
            <option value="domicile">Domicile</option>
            <option value="voie publique">Voie Publique</option>
            <option value="travail">Travail</option>
            <option value="sport">Sport</option>
          </select>
          <label>Date :</label>
          <input id="form1_date" type="date" />
          <label>Bilan circonstanciel :</label>
          <textarea id="form1_bilan"></textarea>
          <div class="btn-container">
            <button class="btn btn-orange" onclick="nextPage('form1',1)">Suivant →</button>
          </div>
        </div>

        <div class="subpage" id="form1_page2">
          <h4>Horaires d’arrivée</h4>
          <label>Heure de départ :</label>
          <input id="form1_depart" type="time" />
          <label>Heure d’arrivée sur place :</label>
          <input id="form1_arrivee" type="time" />
          <label>Heure de départ du lieu :</label>
          <input id="form1_quitte" type="time" />
          <div class="btn-container">
            <button class="btn btn-blue" onclick="prevPage('form1',2)">← Précédent</button>
            <button class="btn btn-orange" onclick="nextPage('form1',2)">Suivant →</button>
          </div>
        </div>

        <div class="subpage" id="form1_page3">
          <h4>Équipe en charge</h4>
          <label>Chef d’équipe :</label>
          <input id="form1_chef" type="text" />
          <label>Équipier 1 :</label>
          <input id="form1_eq1" type="text" />
          <label>Équipier 2 :</label>
          <input id="form1_eq2" type="text" />
          <label>Conducteur :</label>
          <input id="form1_cond" type="text" />
          <div class="btn-container">
            <button class="btn btn-blue" onclick="prevPage('form1',3)">← Précédent</button>
            <button class="btn btn-orange" onclick="saveForm('form1')">Transmission</button>
            <button class="btn btn-orange" onclick="showForm('surveillance')">Surveillance</button>
          </div>
        </div>
      </div>

      <!-- Fiches 2 à 12 -->
      <div id="form2" class="form-box"><h3>Fiche 2</h3><textarea id="form2_notes"></textarea></div>
      <div id="form3" class="form-box"><h3>Fiche 3</h3><textarea id="form3_notes"></textarea></div>
      <div id="form4" class="form-box"><h3>Fiche 4</h3><textarea id="form4_notes"></textarea></div>
      <div id="form5" class="form-box"><h3>Fiche 5</h3><textarea id="form5_notes"></textarea></div>
      <div id="form6" class="form-box"><h3>Fiche 6</h3><textarea id="form6_notes"></textarea></div>
      <div id="form7" class="form-box"><h3>Fiche 7</h3><textarea id="form7_notes"></textarea></div>
      <div id="form8" class="form-box"><h3>Fiche 8</h3><textarea id="form8_notes"></textarea></div>
      <div id="form9" class="form-box"><h3>Fiche 9</h3><textarea id="form9_notes"></textarea></div>
      <div id="form10" class="form-box"><h3>Fiche 10</h3><textarea id="form10_notes"></textarea></div>
      <div id="form11" class="form-box"><h3>Fiche 11</h3><textarea id="form11_notes"></textarea></div>
      <div id="form12" class="form-box"><h3>Fiche 12</h3><textarea id="form12_notes"></textarea></div>

      <!-- Surveillance -->
      <div id="surveillance" class="form-box">
        <h3>Fiche Surveillance - Constantes</h3>
        <label>Tension artérielle :</label><input type="text" id="tension">
        <label>Pouls :</label><input type="text" id="pouls">
        <label>Température :</label><input type="text" id="temperature">
        <label>Saturation O₂ :</label><input type="text" id="saturation">
        <label>Fréquence respiratoire :</label><input type="text" id="freqResp">
      </div>
    </div>
  </div>

  <script>
    // Affiche une fiche
    function showForm(formId) {
      document.querySelectorAll(".form-box").forEach(f => f.classList.remove("active"));
      document.getElementById(formId).classList.add("active");
      let firstPage = document.querySelector("#" + formId + " .subpage");
      if (firstPage) {
        document.querySelectorAll("#" + formId + " .subpage").forEach(p => p.classList.remove("active"));
        firstPage.classList.add("active");
      }
    }

    // Retour accueil
    function goBack() {
      window.location.href = "https://garryslink.github.io/ESO/";
    }

    // Sauvegarde formulaire
    function saveForm(formId) {
      let form = document.getElementById(formId);
      let inputs = form.querySelectorAll("input, textarea, select");
      let data = {};
      inputs.forEach(el => {
        data[el.id || el.name] = el.value;
      });
      localStorage.setItem(formId, JSON.stringify(data));
      alert("Fiche sauvegardée !");
    }

    // Navigation sous-pages
    function nextPage(formId, current) {
      document.getElementById(formId + "_page" + current).classList.remove("active");
      document.getElementById(formId + "_page" + (current + 1)).classList.add("active");
    }
    function prevPage(formId, current) {
      document.getElementById(formId + "_page" + current).classList.remove("active");
      document.getElementById(formId + "_page" + (current - 1)).classList.add("active");
    }

    document.addEventListener("DOMContentLoaded", () => {
      showForm("form1");
    });
  </script>

</body>
</html>
