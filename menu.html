<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Application avec formulaires</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body { margin:0; font-family:Arial, sans-serif; background:#f0f0f0; }
    .topbar { background:#1976d2; color:white; padding:20px; display:flex; align-items:center;
      font-size:20px; font-weight:bold; position:relative; }
    .back-btn { position:absolute; left:16px; font-size:16px; background:white; color:#1976d2;
      padding:6px 10px; border-radius:6px; cursor:pointer; border:none; font-weight:700; }
    .container { display:flex; height:calc(100vh - 70px); }
    .sidebar { width:80px; background:#1976d2; display:flex; flex-direction:column; align-items:center;
      padding-top:20px; gap:14px; overflow:auto; }
    .sidebar i { font-size:26px; color:white; background:#1565c0; padding:16px; border-radius:10px;
      cursor:pointer; width:56px; height:56px; display:flex; align-items:center; justify-content:center;
      transition:background .15s; }
    .sidebar i:hover { background:#0d47a1; }
    .status-dot { width:10px; height:10px; border-radius:50%; margin-top:4px; background:#999; }
    .content { flex:1; padding:20px; background:#f9f9f9; overflow:auto; }
    .form-box { display:none; background:white; padding:18px; border-radius:10px; border:1px solid #ddd; }
    .form-box.active { display:block; }
    .tabs { display:flex; gap:10px; margin-bottom:15px; }
    .tab-btn { padding:8px 14px; border:none; border-radius:6px; cursor:pointer;
      background:#ddd; font-weight:bold; }
    .tab-btn.active { background:#1976d2; color:white; }
    .subpage { display:none; }
    .subpage.active { display:block; }
    label { display:block; margin-top:10px; font-weight:bold; }
    input, textarea, select { width:100%; padding:8px; margin-top:6px; border:1px solid #ccc; border-radius:6px; }
    input.valid, select.valid, textarea.valid { border:2px solid green; background:#e6ffe6; }
    input.invalid, select.invalid, textarea.invalid { border:2px solid red; background:#ffe6e6; }
    .btn-container { display:flex; justify-content:center; gap:20px; margin-top:18px; }
    .btn { padding:12px 24px; font-size:16px; border-radius:8px; border:none; cursor:pointer; font-weight:bold; color:white; }
    .btn-blue { background:#1976d2; }
    .btn-orange { background:#ff7043; }
  </style>
</head>
<body>
  <div class="topbar">
    <button class="back-btn" onclick="goBack()">← Retour</button>
  </div>

  <div class="container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div onclick="showForm('form1')"><i class="fas fa-home"></i><div id="dot_form1" class="status-dot"></div></div>
      <div onclick="showForm('form2')"><i class="fas fa-user-md"></i><div id="dot_form2" class="status-dot"></div></div>
      <div onclick="showForm('form3')"><i class="fas fa-ambulance"></i><div id="dot_form3" class="status-dot"></div></div>
      <div onclick="showForm('form4')"><i class="fas fa-clipboard"></i><div id="dot_form4" class="status-dot"></div></div>
      <div onclick="showForm('form5')"><i class="fas fa-stethoscope"></i><div id="dot_form5" class="status-dot"></div></div>
      <div onclick="showForm('form6')"><i class="fas fa-procedures"></i><div id="dot_form6" class="status-dot"></div></div>
      <div onclick="showForm('form7')"><i class="fas fa-user"></i><div id="dot_form7" class="status-dot"></div></div>
      <div onclick="showForm('form8')"><i class="fas fa-notes-medical"></i><div id="dot_form8" class="status-dot"></div></div>
      <div onclick="showForm('form9')"><i class="fas fa-heartbeat"></i><div id="dot_form9" class="status-dot"></div></div>
      <div onclick="showForm('form10')"><i class="fas fa-hospital"></i><div id="dot_form10" class="status-dot"></div></div>
      <div onclick="showForm('form11')"><i class="fas fa-file-alt"></i><div id="dot_form11" class="status-dot"></div></div>
      <div onclick="showForm('form12')"><i class="fas fa-briefcase-medical"></i><div id="dot_form12" class="status-dot"></div></div>
    </div>

    <div class="content">
      <!-- Exemple Fiche 1 -->
<div id="form1_page1" class="subpage active">
  <label for="form1_c1">Adresse de l'intervention :</label>
  <input type="text" id="form1_c1" required>

  <label for="form1_date">Date :</label>
  <input id="form1_date" type="date" required>

  <label for="choix">État de la victime :</label>
  <select id="choix" name="choix" required> 
    <option value="">-- Sélectionner --</option> 
    <option value="option1">Impliquée</option>
    <option value="option2">Urgence Relative</option> 
    <option value="option3">Urgence Absolue</option> 
    <option value="option4">Victime décédée</option>
  </select> 

  <label for="etat">Lieux de l'intervention :</label>
  <select id="etat" name="etat" required>
    <option value="">-- Sélectionner --</option> 
    <option value="domicile">Domicile</option>
    <option value="voie_publique">Voie Publique</option>
    <option value="travail">Travail</option> 
    <option value="sport">Sport</option> 
  </select> 

  <label for="form1_rem">Bilan circonstanciel :</label>
  <textarea id="form1_rem" required></textarea>
</div>

<div id="form1_page2" class="subpage">
  <label for="form1_depart1">Heure de départ :</label>
  <input id="form1_depart1" type="time" required>

  <label for="form1_arrivee">Heure d'arrivée sur les lieux :</label>
  <input id="form1_arrivee" type="time" required>

  <label for="form1_transport">Heure de transport :</label>
  <input id="form1_transport" type="time" required>

  <label for="form1_ch">Heure d'arrivée au CH :</label> 
  <input id="form1_ch" type="time" required> 

  <label for="form1_dispo">Heure de remise disponible :</label> 
  <input id="form1_dispo" type="time" required> 
</div>

<div id="form1_page3" class="subpage"> 
  <label for="form1_c3a">Ambulance Commandant :</label> 
  <input type="text" id="form1_c3a" required> 

  <label for="form1_c3b">Conducteur :</label> 
  <input type="text" id="form1_c3b" required> 

  <label for="form1_c3c">Équipier :</label> 
  <input type="text" id="form1_c3c" required> 

  <div class="btn-container"> 
    <button class="btn btn-blue" onclick="saveForm('form1')">Transmission</button> 
    <button class="btn btn-orange" onclick="showForm('surveillance')">Surveillance</button>
  </div>
</div>

  <script>
    function showForm(formId) {
      document.querySelectorAll('.form-box').forEach(f => f.classList.remove('active'));
      document.getElementById(formId).classList.add('active');
      let pages = document.querySelectorAll("#" + formId + " .subpage");
      let tabs = document.querySelectorAll("#" + formId + " .tab-btn");
      if (pages.length) {
        pages.forEach(p => p.classList.remove("active"));
        tabs.forEach(b => b.classList.remove("active"));
        pages[0].classList.add("active");
        tabs[0].classList.add("active");
      }
    }
    function openPage(formId, num) {
      document.querySelectorAll("#" + formId + " .subpage").forEach(p=>p.classList.remove("active"));
      document.querySelector("#" + formId + "_page" + num).classList.add("active");
      document.querySelectorAll("#" + formId + " .tab-btn").forEach(b=>b.classList.remove("active"));
      document.querySelectorAll("#" + formId + " .tab-btn")[num-1].classList.add("active");
    }
    function goBack() {
      window.location.href = "https://garryslink.github.io/ESO/";
    }
    function saveForm(formId) {
      let form = document.getElementById(formId);
      let inputs = form.querySelectorAll("input, textarea, select");
      let valid = true;
      inputs.forEach(el=>{
        if(el.hasAttribute("required")){
          if(el.value.trim()!==""){ el.classList.add("valid"); el.classList.remove("invalid"); }
          else { el.classList.add("invalid"); el.classList.remove("valid"); valid=false; }
        }
      });
      let dot=document.getElementById("dot_"+formId);
      if(dot) dot.style.background = valid?"green":"red";
    }
    document.addEventListener("input", e=>{
      if(e.target.matches("input[required],textarea[required],select[required]")){
        if(e.target.value.trim()!==""){ e.target.classList.add("valid"); e.target.classList.remove("invalid"); }
        else { e.target.classList.add("invalid"); e.target.classList.remove("valid"); }
      }
    });
  </script>
</body>
</html>
